<%- include('./template/head') %>
  <link rel="stylesheet" href="css/explorarUsuarios.css">
  </head>

  <body>
    <header>
      <%- include('./template/header') %>
    </header>
    <main>
      <div class="container-fluid p-5">
        <div class="row justify-content-center bg-primary p-5 rounded rounded-2">
          <% if (locals.error) { %>
            <p>
              <%=locals.error%>
            </p>
            <% } %>
              <div class="col-12 text-center">
                <h1 class="text-white">Buscar usuarios</h1>

                <form action="/explorarUsuarios" method="GET">
                  <div id="searchBar" class="col-12 form-outline p-5 d-flex justify-content-center">
                    <input id="searchField" type="text" class="form-control float-start"
                      placeholder="Buscar nombre de usuario..." name="nombreUsuario"
                      value="<%=locals.nombreUsuario%>" />
                    <button type="submit" id="searchButton" class="btn">
                      Ejecutar b√∫squeda<img class="img-fluid ms-2" src="images/search_icon.png"
                        alt="Magnifying glass for search icon" width="20px"></button>
                  </div>
                </form>
                <div class="row gap-1">
                  <% usuarios.forEach(usuario=> { %>
                    <a class="col-2 userBox text-center p-2 border border-2 rounded border-info"
                      href="profile/<%=usuario.nombreUsuario%>">
                      <div class="col-12 text-center">
                        <%=usuario.nombreUsuario%>
                          <img class="rounded-circle ms-3 img-fluid" src="images/default_avatar.png"
                            alt="Default Avatar Image" width="80px">
                      </div>
                      <div class="row pt-3">
                        <% if (locals.amigos) { %>
                          <% amigos.forEach(amigo=> { %>
                            <% if (amigo.nombreUsuario===usuario.nombreUsuario) { %>
                              <div class="col-12 p-1 pb-2">
                                <button class="btn btn-success">Amigo</button>
                              </div>
                              <% } %>
                                <% }) %>
                                  <% } %>
                                    <div class="col-12">
                                      Seguidores: 0
                                    </div>
                                    <div class="col-12">
                                      Juegos jugados: 0
                                    </div>
                      </div>
                    </a>
                    <% }) %>
                </div>
              </div>
        </div>
      </div>
    </main>
    <%- include('./template/footer') %>
      <!-- Bootstrap JavaScript Libraries -->
      <script src="js/bootstrap.min.js"></script>
  </body>

  </html>